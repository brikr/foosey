<ion-view view-title="Add Game">
	
	<!-- Cancel button to return to game select state -->
	<ion-nav-buttons side="right">
    <button 
    	class="button button-clear button-assertive" 
    	ng-click="reset()">
    	<div ng-if="state !== 'game-select' && state !== 'saving'">
    		Cancel
    	</div>
    	<ion-spinner 
    		icon="lines" 
    		class="dark"
    		ng-if="saveStatus === 'saving'">
    	</ion-spinner>
		</button>
  </ion-nav-buttons>

	<ion-content class="background" has-bouncing="true">
	
		<!-- Selecting the game type -->
		<label class="card item item-input item-select">
		  <div class="input-label">
		    Game Type
		  </div>
		  <select ng-model="game.type" ng-options="type.name for type in gameTypes">
		  </select>
		</label>

		<!-- Team -->
		<div class="card" ng-repeat="team in teams">
			<ion-item class="item item-divider">
				Team {{$index + 1}}
			</ion-item>
			<!-- Input players -->
			<label class="item item-input item-select" ng-repeat="player in team.players track by $index">
			  <span class="input-label">Player {{$index + 1}}</span>
			  <select ng-model="player" ng-options="player.displayName for player in players">
			  </select>
			</label>
			<!-- Input score -->
			<label class="item item-input">
			  <span class="input-label">Score</span>
			  <input type="tel" ng-model="team.score" style="text-align: right">
			</label>
		</div>

		<div class="card">
			<ion-item class="center">
				Save
			</ion-item>
		</div>

	</ion-content>
</ion-view>