<!-- Header bar -->
<ion-header-bar>
  <h1 class="title">History</h1>
</ion-header-bar>

<!-- The content -->
<ion-content class="background" has-bouncing="true">

	<!-- pull to refresh -->
	<ion-refresher pulling-text="Pull to refresh..." spinner="lines" on-refresh="refresh()"></ion-refresher>

	<!-- show loading while waiting -->
  <ion-spinner ng-show="loading && !error" class="loading-dots" icon="lines"></ion-spinner>

  <!-- no internet message -->
  <ion-item ng-show="error">No internet connection :(</ion-item>

	<!-- The full history of games -->
	<div ng-show="dates">
		<ion-item ng-click="removeLast()">Remove last game</ion-item>
		<div style="margin: 20px"></div>
		<ion-list ng-repeat="day in dates" ng-class="{'last': $last}">
			<ion-item>
				<div class="spaced-out">
					<div class="history-date">{{day.date}}</div>
					<div class="history-games">{{day.games.length}} game<span ng-if="day	.games.length > 1">s</span></div>
				</div>
				<div class="divider"></div>
				<div ng-repeat="game in day.games">
					<div class="spaced-out">
						<div>
							<div ng-repeat="player in game.players">
								{{player.name}} - {{player.score}}
							</div>
						</div>
						<div style="font-size: 14px">{{game.time | time}}</div>
					</div>
					<div ng-if="!$last" class="divider"></div>
				</div>
			</ion-item>
		</ion-list>
	</div>
</ion-content>